<!- 党组织新增弹窗-->
<template>
  <div class="AddOrganization">
    <Modal
      v-model="modal1"
      title="新增党组织"
      width="950"
      :mask-closable=false
      :closable=false
      class-name="max-height"
      :loading="loading"
      @on-ok="handleSubmit('OrganizationeForm')"
      @on-cancel="cancel">
      <Row>
        <Form ref="OrganizationeForm" :model="OrganizationeForm"  :label-width="150" :rules="ruleValidate">
          <Col span="12">
          <FormItem label="党组织代码：" prop="code">
            <Input v-model="OrganizationeForm.code" placeholder="请输入党组织代码"></Input>
          </FormItem>
          </Col>
          <Col span="12">
            <FormItem label="设置委员数：" prop="setCommitteeNum">
              <Input v-model="OrganizationeForm.setCommitteeNum" placeholder="请输入"></Input>
            </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="党组织名称（全称）：" prop="OrganizationeName">
            <Input v-model="OrganizationeForm.OrganizationeName" placeholder="请输入"></Input>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="实有委员数：" prop="CommitteeNum">
            <Input v-model="OrganizationeForm.CommitteeNum"  placeholder="请输入"></Input>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="党组织类型：" prop="type">
            <Select v-model="OrganizationeForm.type" placeholder="请选择">
              <Option value="0">类型A</Option>
              <Option value="1">类型B</Option>
            </Select>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="党组织办公电话：" prop="tel">
            <Input v-model="OrganizationeForm.tel"  placeholder="请输入"></Input>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="党组织属地关系：" prop="relations">
            <Select v-model="OrganizationeForm.relations" placeholder="请选择">
              <Option value="0">关系A</Option>
              <Option value="1">关系B</Option>
            </Select>
          </FormItem>
          </Col>
          <Col span="12">
            <FormItem label="传真号码：" prop="faxnum">
              <Input v-model="OrganizationeForm.faxnum"  placeholder="请输入传真号码"></Input>
            </FormItem>
          </Col>
          <Col span="12">
            <FormItem label="批准建立党组织日期：" prop="partyDate">
              <DatePicker style="width: 100%;"  type="date" placeholder="选择日期" v-model="OrganizationeForm.partyDate"></DatePicker>
            </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="流动党员党支部标识：" prop="Identification">
            <Input v-model="OrganizationeForm.Identification"  placeholder="请输入"></Input>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="所在地区：" prop="region">
            <Cascader :data="OrganizationeForm.data" v-model="OrganizationeForm.region"></Cascader>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="详细地址：" prop="address">
            <Input v-model="OrganizationeForm.address"  placeholder="请输入"></Input>
          </FormItem>
          </Col>
          <Col span="12">
            <FormItem label="本届班子当选日期：" prop="electionDate">
              <DatePicker style="width: 100%;"  type="date" placeholder="选择日期" v-model="OrganizationeForm.electionDate"></DatePicker>
            </FormItem>
          </Col>
          <Col span="12">
            <FormItem label="邮政编码：" prop="postalCode">
              <Input v-model="OrganizationeForm.postalCode"  placeholder="请输入"></Input>
            </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="任期年限：" prop="year">
            <Input v-model="OrganizationeForm.year"  placeholder="请输入"></Input>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="本届届满日期：" prop="endDate">
            <DatePicker style="width: 100%;"  type="date" placeholder="选择日期" v-model="OrganizationeForm.endDate"></DatePicker>
          </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="选举方式：" prop="mode">
            <Select v-model="OrganizationeForm.mode" placeholder="请选择">
              <Option value="0">方式A</Option>
              <Option value="1">方式B</Option>
            </Select>
          </FormItem>
          </Col>
          <Col span="12">
            <FormItem label="选举应到会人数：" prop="tobeNum">
              <Input v-model="OrganizationeForm.tobeNum"  placeholder="请输入"></Input>
            </FormItem>
          </Col>
          <Col span="12">
          <FormItem label="选举实到人数：" prop="actualNum">
            <Input v-model="OrganizationeForm.actualNum"  placeholder="请输入"></Input>
          </FormItem>
          </Col>
        </Form>
      </Row>
    </Modal>
  </div>
</template>
<script TYPE="text/ecmascript-6">
  export default {
    name:'AddOrganization',
    data () {
      return {
        modal1: true,
        loading: true,
        OrganizationeForm: {
          code:"",//党组织代码
          setCommitteeNum:"",//设置委员数
          OrganizationeName:"",//党组织全称
          CommitteeNum:"",//实际委员数
          type:"",//党组织类型
          tel:"",//党组织办公室电话
          relations:"",//党组织属地关系
          faxnum:"",//传真
          partyDate:'',//批准建立党组织日期
          Identification:'',//流动党员党支部标识
          address:'',//详细地址
          electionDate:'',//本届班子当选日期：
          postalCode:'',//邮政编码
          year:'',//任期年限
          endDate:'',//本届班子当选日期：
          mode:'',//选举方式
          tobeNum:'',//应到人数
          actualNum:'',//实到人数
          region: [],//所在地区
          data: [{
            value: 'beijing',
            label: '北京',
            children: [
              {
                value: 'gugong',
                label: '故宫'
              },
              {
                value: 'tiantan',
                label: '天坛'
              },
              {
                value: 'wangfujing',
                label: '王府井'
              }
            ]
          }, {
            value: 'jiangsu',
            label: '江苏',
            children: [
              {
                value: 'nanjing',
                label: '南京',
                children: [
                  {
                    value: 'fuzimiao',
                    label: '夫子庙',
                    children:[
                      {
                        value: 'fuzimiao1',
                        label: '夫子庙子集111'
                      }
                    ]
                  }
                ]
              },
              {
                value: 'suzhou',
                label: '苏州',
                children: [
                  {
                    value: 'zhuozhengyuan',
                    label: '拙政园',
                  },
                  {
                    value: 'shizilin',
                    label: '狮子林',
                  }
                ]
              }
            ],
          }]
        },
        ruleValidate: {
          code: [
            {required: true, message: '党组织代码不能为空', trigger: 'blur'}
          ],
          OrganizationeName: [
            {required: true, message: '党组织全称不能为空', trigger: 'blur'}
          ],
          type: [
            {required: true, message: '党组织类型不能为空', trigger: 'change'}
          ],
          relations: [
            {required: true, message: '党组织属地关系不能为空', trigger: 'change'}
          ],
          tel: [
            {required: true, message: '党组办公电话不能为空', trigger: 'blur'}
          ],
          partyDate: [
            {required: true,type:'date', message: '批准建立党组织日期', trigger: 'change'}
          ]
        }
      };
    },

    methods: {
      handleSubmit(name) {
        this.$refs[name].validate((valid) => {
          if (valid) {
            this.$Message.success('提交成功!');

            this.modal1=false;
          } else {
            this.loading=false;
            this.$Message.error('表单验证失败!');
            setTimeout(() => {
              this.loading=true;
            }, 20);
          }
        })
      },
      cancel () {
        this.$Message.info('点击了取消');
        this.$router.go(-1);
      }
    }
  }
</script>
<style>

</style>
