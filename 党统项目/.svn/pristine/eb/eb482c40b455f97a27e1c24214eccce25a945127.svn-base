<!- 党员管理、新增党员弹窗-->
<template>
  <div class="AddPartyMember">
    <Modal
      v-model="modal1"
      title="新增党员"
      width="950"
      :styles="{top: '20px'}"
      :mask-closable=false
      :loading="loading"
      @on-ok="handleSubmit('PartyMemberForm')"
      @on-cancel="cancel">
        <Form ref="PartyMemberForm" :model="PartyMemberForm"  :label-width="150" :rules="ruleValidate">
          <Row>
            <Col span="12">
              <FormItem label="姓名" prop="real_name">
                <Input v-model="PartyMemberForm.real_name" placeholder="请输入姓名"></Input>
              </FormItem>
              <FormItem label="简拼" prop="">
                <Input v-model="PartyMemberForm.spell_name" placeholder="请输入姓名"></Input>
              </FormItem>
              <FormItem label="性别：" prop="sex">
                  <Select v-model="PartyMemberForm.sex" placeholder="请选择">
                    <Option value="1">男</Option>
                    <Option value="2">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="民族：" prop="nation">
                  <Select v-model="PartyMemberForm.nation" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
               <FormItem label="籍贯：" prop="native">
                  <Input v-model="PartyMemberForm.native" placeholder="请输入"></Input>
              </FormItem>
              <FormItem label="出生日期：" prop="birthday">
                <DatePicker v-model="PartyMemberForm.birthday" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
            	<FormItem label="居民身份证号" prop="idcard">
                <Input v-model="PartyMemberForm.idcard" placeholder="请输入"></Input>
              </FormItem>
            	<FormItem label="人事关系所在单位：" prop="hr_org">
                  <Select v-model="PartyMemberForm.hr_org" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="参加工作日期：" prop="">
                <DatePicker v-model="PartyMemberForm.work_start_time" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <FormItem label="专业技术资格：" prop="">
                  <Select v-model="PartyMemberForm.profession_qualification" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="专业技术职务：" prop="">
                  <Select v-model="PartyMemberForm.profession_duty" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="其他党团：" prop="">
                  <Select v-model="PartyMemberForm.other_party" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="其他党团开始日期：" prop="">
                <DatePicker v-model="PartyMemberForm.other_party_time" type="datetime" format="yyyy-MM-dd" filterable placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <FormItem label="手机号码：" prop="">
                <Input v-model="PartyMemberForm.mobile" placeholder="请输入"></Input>
              </FormItem>
              <FormItem label="住宅电话：" prop="">
                <Input v-model="PartyMemberForm.family_phone" placeholder="请输入"></Input>
              </FormItem>
              <FormItem label="家庭住址：" prop="">
                <Input v-model="PartyMemberForm.family_address" placeholder="请输入"></Input>
              </FormItem>
              <FormItem label="户口所在派出所：" prop="">
                  <Select v-model="PartyMemberForm.family_police_station" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="教育类型：" prop="education_type">
                  <Select v-model="PartyMemberForm.education_type" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
            </Col>

            <Col span="12">
              <FormItem label="头像：" prop="">
                <div class="start-box box-pack" style="height:100%;width:100%;">
                  <img class="box-flex" style="vertical-align: middle;margin-right:20px" width="45%" height="auto" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1504504890477&di=81778cd891dbae7678c7c6195e405c10&imgtype=0&src=http%3A%2F%2Fimg0.ph.126.net%2FpSxeSbCemym5GdkP87hocA%3D%3D%2F2280791736303314424.jpg" alt="">
                  <Button class="box-flex" type="ghost">更换头像</Button>
                </div>
              </FormItem>
              <FormItem label="学历：" prop="education">
                  <Select v-model="PartyMemberForm.education" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="毕业日期：" prop="education_end_time">
                <DatePicker v-model="PartyMemberForm.education_end_time" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <FormItem label="学位：" prop="">
                  <Select v-model="PartyMemberForm.degree" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="学位授予日期：" prop="">
                <DatePicker v-model="PartyMemberForm.degree_time" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <FormItem label="工作岗位开始日期：" prop="work_start_time">
                <DatePicker v-model="PartyMemberForm.work_start_time" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <FormItem label="工作岗位：" prop="work_type">
                  <Select v-model="PartyMemberForm.work_type" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
               <FormItem label="是否为农民工：" prop="">
                  <Select v-model="PartyMemberForm.is_migrant_worker" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
               <FormItem label="新社会阶层类型：" prop="">
                  <Select v-model="PartyMemberForm.social_type" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="一线情况：" prop="">
                  <Select v-model="PartyMemberForm.is_front" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="入党日期：" prop="party_date">
                <DatePicker v-model="PartyMemberForm.party_date" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <!--这个还没有-->
              <!--<FormItem label="入党类型：" prop="">
                  <Select v-model="PartyMemberForm.edutype" placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>-->
              <!--这个还没有 end-->

              <FormItem label="转正日期：" prop="">
                <DatePicker v-model="PartyMemberForm.join_party_date" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <FormItem label="转正情况：" prop="">
                  <Select v-model="PartyMemberForm.to_normal_type" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="进入当前党支部日期：" prop="join_dept_time">
                <DatePicker v-model="PartyMemberForm.join_dept_time" type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>
              </FormItem>
              <FormItem label="进入当前党支部类型：" prop="join_dept_type">
                  <Select v-model="PartyMemberForm.join_dept_type" placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
            </Col>
          </Row>
        </Form>
    </Modal>
  </div>
</template>
<script TYPE="text/ecmascript-6">
  export default {
    name:'AddPartyMember',
    data () {
      return {
        modal1: true,
        loading: true,
        PartyMemberForm: {
          dept_id:"",//党组织id
          real_name:"",//真实姓名
          nation:"",//民族
          join_source:"",//加入中共组织的类型
          native:"",//籍贯
          join_dept_time:"",//进入党支部日期
          hr_org:"",//人事关系所在部门
          birthday:"",//出生年月日
          party_date:"",//入党时间
          join_dept_type:"",//进入党支部类型
          education:"",//学历
          education_type:"",//教育类别
          education_end_time:"",//毕业日期
          sex:"",//性别
          spell_name:"",//姓名简拼
          work_type:"",//工作岗位
          idcard:"",//身份证号
          work_start_time:"",//工作岗位开始日期
          work_start_time:"",//参加工作日期
          profession_qualification:"",//专业技术资格
          profession_duty:"",//专业技术职务
          other_party:"",//人当前参加的某一党派组织的代码
          other_party_time:"",//加入其他党团日期
          mobile:"",//手机号
          family_phone:"",//住宅电话
          family_address:"",//家庭住址
          family_police_station:"",//户口所在派出所
          degree:"",//学位
          degree_time:"",//学位授予日期
          is_migrant_worker:"",//是否是农民工
          is_front:"",//一线情况
          join_party_date:"",//党员正式转正时间
          to_normal_type:"",//转正情况
        },
        ruleValidate: {
          real_name: [
            {required: true, message: '姓名不能为空', trigger: 'blur'}
          ],
          sex: [
            {required: true, message: '性别不能为空', trigger: 'change'}
          ],
          nation: [
            {required: true, message: '党组织类型不能为空', trigger: 'change'}
          ],
          native: [
            {required: true, message: '民族不能为空', trigger: 'change'}
          ],
          birthday: [
            {required: true, message: '党组办公电话不能为空', trigger: 'change',type:'date'}
          ],
          idcard: [
            {required: true, message: '身份证号不能为空', trigger: 'blur'}
          ],
           hr_org: [
            {required: true, message: '人事关系所在部门不能为空', trigger: 'change'}
          ],
           education_type: [
            {required: true, message: '教育类型不能为空', trigger: 'change'}
          ],
           education: [
            {required: true, message: '学历不能为空', trigger: 'change'}
          ],
           education_end_time: [
            {required: true, message: '毕业日期不能为空', trigger: 'change',type:'date'}
          ],
           work_start_time: [
            {required: true, message: '参加工作日期不能为空', trigger: 'change',type:'date'}
          ],
          work_start_time: [
            {required: true, message: '工作岗位开始日期不能为空', trigger: 'change',type:'date'}
          ],
          work_type:[
            {required: true, message: '工作岗位不能为空', trigger: 'change'}
          ],
          party_date: [
            {required: true, message: '入党日期不能为空', trigger: 'change',type:'date'}
          ],
          join_dept_time: [
            {required: true, message: '进入党支部日期不能为空', trigger: 'change'}
          ],
          join_dept_type: [
            {required: true, message: '党进入党支部类型不能为空', trigger: 'change'}
          ],

        }
      };
    },

    methods: {
      handleSubmit(name) {
        this.$refs[name].validate((valid) => {
          if (valid) {
            this.$Message.success('提交成功!');

            this.modal1=false;
          } else {
            this.loading=false;
            this.$Message.error('表单验证失败!');
            setTimeout(() => {
              this.loading=true;
            }, 20);
          }
        })
      },
      cancel () {
        this.$Message.info('点击了取消');
      }
    }
  }
</script>
<style>

</style>
