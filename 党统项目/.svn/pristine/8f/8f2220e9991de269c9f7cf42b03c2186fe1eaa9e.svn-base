<!- 党员管理、新增党员弹窗-->
<template>
  <div class="AddPartyMember">
    <Modal
      v-model="modal1"
      title="新增党员"
      width="950"
      :styles="{top: '20px'}"
      :mask-closable=false
      :loading="loading"
      @on-ok="handleSubmit('PartyMemberForm')"
      @on-cancel="cancel">
        <Form ref="PartyMemberForm" :model="PartyMemberForm"  :label-width="150" :rules="ruleValidate">
          <Row>
            <Col span="12">
              <FormItem label="姓名" prop="code">
                <Input v-model="PartyMemberForm.uname" placeholder="请输入姓名"></Input>
              </FormItem>
              <FormItem label="性别：">
                  <Select v-model="PartyMemberForm.sex" placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="民族：">
                  <Select v-model="PartyMemberForm.nation" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="出生日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>
              <FormItem label="籍贯：">
                  <Input v-model="PartyMemberForm.uname" placeholder="请输入"></Input>
              </FormItem>
              <FormItem label="教育类别：">
                  <Select v-model="PartyMemberForm.edutype" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="入党日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>    
              <FormItem label="学历：">
                  <Select v-model="PartyMemberForm.origin_palce" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem> 
              <FormItem label="学位：">
                  <Select v-model="PartyMemberForm.origin_palce" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="毕业（授予）日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>   
              <FormItem label="参加工作日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>                                                               
              <FormItem label="组织关系所在单位：">
                  <Select v-model="PartyMemberForm.origin_palce" filterable placeholder="请选择">
                    <Option value="0">男</Option>
                    <Option value="1">女</Option>
                  </Select>
              </FormItem>
              <FormItem label="工作岗位开始日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>  
              <FormItem label="工作岗位：">
                  <Select v-model="PartyMemberForm.edutype" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="一线情况：">
                  <Select v-model="PartyMemberForm.edutype" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="新社会阶层人员：">
                  <Select v-model="PartyMemberForm.edutype" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
            </Col>


            <Col span="12">
              <FormItem label="头像：">
                <div class="start-box box-pack" style="height:100%;width:100%;">
                  <img class="box-flex" style="vertical-align: middle;margin-right:20px" width="45%" height="auto" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1504504890477&di=81778cd891dbae7678c7c6195e405c10&imgtype=0&src=http%3A%2F%2Fimg0.ph.126.net%2FpSxeSbCemym5GdkP87hocA%3D%3D%2F2280791736303314424.jpg" alt="">
                  <Button class="box-flex" type="ghost">更换头像</Button>
                </div>
              </FormItem>
              <FormItem label="加入中共组织日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>
              <FormItem label="加入中共组织类型：">
                  <Select v-model="PartyMemberForm.edutype" placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>  
              <FormItem label="转正日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>
              <FormItem label="转正情况：">
                  <Select v-model="PartyMemberForm.edutype" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem> 
              <FormItem label="转入当前党支部日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>
              <FormItem label="转入当前党支部类型：">
                  <Select v-model="PartyMemberForm.edutype" placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>  
              <FormItem label="居民身份证号">
                <Input v-model="PartyMemberForm.id" placeholder="请输入"></Input>
              </FormItem>
              <FormItem label="家庭住址：">
                <Input v-model="PartyMemberForm.id" placeholder="请输入"></Input>
              </FormItem>                                                                   
              <FormItem label="联系电话：">
                <Input v-model="PartyMemberForm.id" placeholder="请输入"></Input>
              </FormItem>
              <FormItem label="户口所在派出所：">
                  <Select v-model="PartyMemberForm.edutype" filterable placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>  
              <FormItem label="月缴纳党费金额：">
                <Input v-model="PartyMemberForm.id" placeholder="请输入"></Input>
              </FormItem>
                        
               <FormItem label="其他党团：">
                  <Select v-model="PartyMemberForm.education" filterable  placeholder="请选择">
                    <Option value="0">类型A</Option>
                    <Option value="1">类型B</Option>
                  </Select>
              </FormItem>
              <FormItem label="其他党团开始日期：">
                <DatePicker type="datetime" format="yyyy-MM-dd" filterable placeholder="选择日期" style="width:309px"></DatePicker>              
              </FormItem>

            </Col>
            <!-- <Col span="6">
               <img width="80%" height="auto" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1504504890477&di=81778cd891dbae7678c7c6195e405c10&imgtype=0&src=http%3A%2F%2Fimg0.ph.126.net%2FpSxeSbCemym5GdkP87hocA%3D%3D%2F2280791736303314424.jpg" alt="">
            </Col> -->
          </Row>
        
        </Form>
    </Modal>
  </div>
</template>
<script TYPE="text/ecmascript-6">
  export default {
    name:'AddPartyMember',
    data () {
      return {
        modal1: true,
        loading: true,
        PartyMemberForm: {
          uname:"",//姓名
          OrganizationeName:"",//党组织全称
          edutype:"",//党组织类型
          data: [{
            value: 'beijing',
            label: '北京',
            children: [
              {
                value: 'gugong',
                label: '故宫'
              },
              {
                value: 'tiantan',
                label: '天坛'
              },
              {
                value: 'wangfujing',
                label: '王府井'
              }
            ]
          }, {
            value: 'jiangsu',
            label: '江苏',
            children: [
              {
                value: 'nanjing',
                label: '南京',
                children: [
                  {
                    value: 'fuzimiao',
                    label: '夫子庙',
                    children:[
                      {
                        value: 'fuzimiao1',
                        label: '夫子庙子集111'
                      }
                    ]
                  }
                ]
              },
              {
                value: 'suzhou',
                label: '苏州',
                children: [
                  {
                    value: 'zhuozhengyuan',
                    label: '拙政园',
                  },
                  {
                    value: 'shizilin',
                    label: '狮子林',
                  }
                ]
              }
            ],
          }]
        },
        ruleValidate: {
          code: [
            {required: true, message: '党组织代码不能为空', trigger: 'blur'}
          ],
          OrganizationeName: [
            {required: true, message: '党组织全称不能为空', trigger: 'blur'}
          ],
          type: [
            {required: true, message: '党组织类型不能为空', trigger: 'change'}
          ],
          relations: [
            {required: true, message: '党组织属地关系不能为空', trigger: 'change'}
          ],
          tel: [
            {required: true, message: '党组办公电话不能为空', trigger: 'blur'}
          ],
          partyDate: [
            {required: true,type:'date', message: '批准建立党组织日期', trigger: 'change'}
          ]
        }
      };
    },

    methods: {
      handleSubmit(name) {
        this.$refs[name].validate((valid) => {
          if (valid) {
            this.$Message.success('提交成功!');

            this.modal1=false;
          } else {
            this.loading=false;
            this.$Message.error('表单验证失败!');
            setTimeout(() => {
              this.loading=true;
            }, 20);
          }
        })
      },
      cancel () {
        this.$Message.info('点击了取消');
      }
    }
  }
</script>
<style>

</style>
